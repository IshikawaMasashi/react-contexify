!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactContexify=t(require("react")):e.ReactContexify=t(e.react)}(window,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMenuPosition=function(e,t){var n=t[0],o=t[1],r={top:o,left:n},u=window.innerWidth,i=window.innerHeight;return o+e.height>i&&(r.top-=e.height),n+e.width>u&&(r.left-=e.width),r.top<0&&(r.top=e.height<i?(i-e.height)/2:0),r.left<0&&(r.left=e.width<u?(u-e.width)/2:0),r},t.getRTLMenuPosition=function(e,t){var n=t[0],o=t[1],r={top:o,left:n},u=window.innerWidth,i=window.innerHeight;return r.left=n-e.width,o+e.height>i&&(r.top-=e.height),r.left<0&&(r.left+=e.width),r.top<0&&(r.top=e.height<i?(i-e.height)/2:0),r.left+e.width>u&&(r.left=e.width<u?(u-e.width)/2:0),r},t.getCoords=function(e,t){return["X","Y"].map((function(n){return(e["client"+n]||e.touches&&e.touches[0]["page"+n])-t["pos"+n]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.default=o.default},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var u=arguments[t],i=0,c=u.length;i<c;i++,r++)o[r]=u[i];return o},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n(1),s=u(n(4)),f=27,a={position:"fixed",opacity:0,pointerEvents:"none"},l=function(e){return e.focus()};t.default=function(e){var t=void 0===e?{}:e,n=t.rtl,u=void 0!==n&&n,d=t.handleElementSelect,p=void 0===d?l:d,h=i.useRef(),v=i.useRef([]),m=i.useState(a),b=m[0],y=m[1],g=i.useState(-1),w=g[0],T=g[1],_=i.useState(!1),x=_[0],E=_[1],P=i.useState([0,0]),j=P[0],L=P[1],M=i.useState(),O=M[0],S=M[1],D=i.useCallback((function(){return E(!1)}),[E]),R=i.useCallback((function(e){E(!0),S(e)}),[E,S]);return i.useEffect((function(){var e=function(e){!h.current.contains(e.target)&&D()},t=function(e){switch(e.keyCode){case f:e.preventDefault(),D();break;case 38:e.preventDefault(),w>0&&(T((function(e){return e-1})),p(v.current[w-1]));break;case 40:e.preventDefault(),w+1<v.current.length&&(T((function(e){return e+1})),p(v.current[w+1]));break;case 13:v.current[w].click(),D()}};return x&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("scroll",D),document.addEventListener("contextmenu",D),document.addEventListener("keydown",t)),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("scroll",D),document.removeEventListener("contextmenu",D),document.removeEventListener("keydown",t)}}),[h,D,w,T,v,p,x]),i.useLayoutEffect((function(){if(x){var e=h.current.getBoundingClientRect(),t=u?c.getRTLMenuPosition(e,j):c.getMenuPosition(e,j),n=t.top,r=t.left;y((function(e){return o(o({},e),{top:n+"px",left:r+"px",opacity:1,pointerEvents:"auto"})}))}else y(a)}),[h,x,j]),[{style:b,ref:h,role:"menu",tabIndex:-1},{ref:function(e){return v.current=null===e?[]:r(v.current,[e])},role:"menuitem",tabIndex:-1},s.default(R,L),{data:O,isVisible:x,setVisible:E,coords:j,setCoords:L}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(1),u={LEFT:0,RIGHT:2},i={disable:!1,holdToDisplay:1e3,posX:0,posY:0,mouseButton:u.RIGHT,disableIfShiftIsPressed:!1,collect:function(){return""}};t.default=function(e,t){return function(n){var c=Object.assign({},i,n),s=o.useRef(!1),f=o.useRef(),a=o.useRef(),l=function(n){c.disable||c.disableIfShiftIsPressed&&n.shiftKey||(n.preventDefault(),n.stopPropagation(),t(r.getCoords(n,c)),e(c.collect()))};return[{onContextMenu:function(e){e.button===c.mouseButton&&l(e)},onClick:function(e){e.button===c.mouseButton&&l(e)},onMouseDown:function(e){c.holdToDisplay>=0&&e.button===u.LEFT&&(e.persist(),e.stopPropagation(),f.current=window.setTimeout((function(){return l(e)}),c.holdToDisplay))},onMouseUp:function(e){e.button===u.LEFT&&clearTimeout(f.current)},onTouchStart:function(e){s.current=!1,c.holdToDisplay>=0&&(e.persist(),e.stopPropagation(),a.current=window.setTimeout((function(){l(e),s.current=!0}),c.holdToDisplay))},onTouchEnd:function(e){s.current&&e.preventDefault(),clearTimeout(a.current)},onMouseOut:function(e){e.button===u.LEFT&&clearTimeout(f.current)}}]}}}])}));
//# sourceMappingURL=ReactContexify.js.map